# 快速部署指令清單

按照以下步驟執行，完成雲端部署。

## 📋 前置檢查

```powershell
# 確認 Git 已安裝
git --version

# 如果沒有，安裝 Git
winget install Git.Git
```

重新開啟 PowerShell 後繼續。

---

## 🔧 步驟 1：初始化 Git

```powershell
# 切換到專案目錄
cd "d:\大學\退休計畫"

# 初始化 Git（如果還沒有）
git init

# 檢查狀態
git status

# 加入所有檔案
git add .

# 提交
git commit -m "Initial commit: Retirement Planner with SEO optimization"
```

---

## 🌐 步驟 2：上傳到 GitHub

### 2.1 建立 GitHub Repository

1. 前往：https://github.com/new
2. Repository name: `retirement-planner`
3. 設為 **Public**（公開）
4. **不要**勾選任何初始化選項
5. 點擊 **Create repository**

### 2.2 連結並推送

```powershell
# 替換 YOUR_USERNAME 為你的 GitHub 帳號
git remote add origin https://github.com/YOUR_USERNAME/retirement-planner.git

# 推送到 GitHub
git branch -M main
git push -u origin main
```

---

## ☁️ 步驟 3：部署後端到 Render

### 3.1 註冊並設定

1. 前往：https://render.com
2. 使用 GitHub 帳號登入
3. 點擊 **New +** → **Web Service**
4. 選擇 `retirement-planner` repository
5. 填寫設定：

```
Name: retirement-planner-api
Region: Singapore
Branch: main
Root Directory: retire-planner-server
Runtime: Node
Build Command: npm install
Start Command: npm start
Instance Type: Free
```

6. 點擊 **Create Web Service**
7. 等待部署完成（約 5-10 分鐘）
8. **複製你的後端網址**，例如：
   ```
   https://retirement-planner-api.onrender.com
   ```

---

## 🌍 步驟 4：更新前端設定

```powershell
# 編輯 index.html，更新後端 URL
# 找到這一行：
# <input id="backendUrl" type="text" value="http://localhost:5178" />
# 
# 改為（替換成你的 Render 網址）：
# <input id="backendUrl" type="text" value="https://retirement-planner-api.onrender.com" />

# 更新 robots.txt 和 sitemap.xml 中的網址（稍後部署 Vercel 後再改）

# 提交變更
git add retire-planner/index.html
git commit -m "Update backend URL for production"
git push
```

---

## 🚀 步驟 5：部署前端到 Vercel

### 5.1 註冊並部署

1. 前往：https://vercel.com
2. 使用 GitHub 帳號登入
3. 點擊 **Add New...** → **Project**
4. Import `retirement-planner` repository
5. 設定：

```
Framework Preset: Other
Root Directory: retire-planner
Build Command: (留空)
Output Directory: (留空)
Install Command: (留空)
```

6. 點擊 **Deploy**
7. 等待部署完成（約 1-2 分鐘）
8. **複製你的網址**，例如：
   ```
   https://retirement-planner-abcd123.vercel.app
   ```

### 5.2 更新 SEO 檔案

```powershell
# 編輯以下檔案，將 "your-domain.vercel.app" 替換成你的實際網址：
# - retire-planner/index.html (所有 your-domain.vercel.app)
# - retire-planner/robots.txt
# - retire-planner/sitemap.xml

# 提交並推送
git add retire-planner/
git commit -m "Update domain URLs"
git push
```

Vercel 會自動重新部署！

---

## 🔍 步驟 6：提交到 Google

### 6.1 Google Search Console

1. 前往：https://search.google.com/search-console
2. 點擊 **新增資源**
3. 選擇 **網址前置字元**
4. 輸入你的 Vercel 網址
5. 驗證擁有權（Vercel 通常會自動處理）
6. 提交 Sitemap：
   ```
   https://你的網址.vercel.app/sitemap.xml
   ```

### 6.2 加速收錄

在以下地方分享你的網站連結：
- Facebook、Twitter、LinkedIn
- PTT、Dcard、Mobile01 理財版
- 個人 Blog 或部落格
- Reddit r/financialindependence

---

## ✅ 完成檢查

訪問你的網站，確認：

- [ ] 前端正常顯示
- [ ] 點擊「測試連線」顯示正常
- [ ] 「依歷史近N年的CAGR自動帶入」功能正常
- [ ] 試算功能運作
- [ ] 圖表顯示正常
- [ ] robots.txt 可存取：https://你的網址.vercel.app/robots.txt
- [ ] sitemap.xml 可存取：https://你的網址.vercel.app/sitemap.xml

---

## 🎉 恭喜！

你的網站已經上線了！

**網站網址**：https://你的網址.vercel.app
**後端 API**：https://你的網址.onrender.com

### 後續更新

```powershell
# 修改任何檔案後
git add .
git commit -m "描述你的更新"
git push
```

Vercel 和 Render 會自動重新部署！

---

## 📊 監控與優化

### Vercel Dashboard
- 查看訪客數量
- 監控部署狀態
- 查看錯誤日誌

### Render Dashboard
- 監控後端健康
- 查看 API 請求
- 注意：免費方案會在 15 分鐘無活動後休眠

### Google Search Console
- 追蹤索引狀態
- 查看搜尋表現
- 優化 SEO

---

## 🆘 需要幫助？

常見問題參考：`雲端部署指南.md`

Good luck! 🚀
