# 雲端部署完整指南 - 讓全世界都能用

讓你的退休計畫試算器公開上線，並能被 Google 搜尋到。

---

## 🎯 目標

✅ 網站 24/7 在線，全球都能存取  
✅ 獲得專屬網址（如：retire-planner.vercel.app）  
✅ 被 Google 搜尋引擎收錄  
✅ 完全免費方案  
✅ 自動 HTTPS 加密  

---

## 📋 部署架構

**前端（Vercel）** → 靜態網頁託管  
**後端（Render）** → API 服務  

兩者都提供免費方案，足夠個人專案使用。

---

## 🚀 步驟 1：準備 GitHub 專案

### 1.1 安裝 Git（如果還沒有）

```powershell
winget install Git.Git
```

重新開啟 PowerShell 後確認：
```powershell
git --version
```

### 1.2 初始化 Git 專案

```powershell
cd "d:\大學\退休計畫"

# 初始化 Git
git init

# 建立 .gitignore
New-Item -Path .gitignore -ItemType File
```

編輯 `.gitignore`：
```
node_modules/
npm-debug.log
.env
.DS_Store
*.zip
退休計畫試算器_打包版/
```

### 1.3 提交程式碼

```powershell
git add .
git commit -m "Initial commit: Retirement Planner"
```

### 1.4 建立 GitHub 帳號並上傳

1. 註冊 GitHub：https://github.com/signup
2. 建立新的 Repository（專案）
   - 名稱：`retirement-planner`
   - 設為 Public（公開）
   - 不要勾選任何初始化選項

3. 連結並推送：
```powershell
# 替換成你的 GitHub 帳號名稱
git remote add origin https://github.com/你的帳號/retirement-planner.git
git branch -M main
git push -u origin main
```

---

## ☁️ 步驟 2：部署後端到 Render

### 2.1 註冊 Render

1. 前往：https://render.com
2. 使用 GitHub 帳號註冊
3. 授權 Render 存取你的 repositories

### 2.2 建立 Web Service

1. 點擊 **New +** → **Web Service**
2. 連結你的 `retirement-planner` repository
3. 設定如下：

   ```
   Name: retirement-planner-api
   Region: Singapore (最接近台灣)
   Branch: main
   Root Directory: retire-planner-server
   Runtime: Node
   Build Command: npm install
   Start Command: npm start
   ```

4. 選擇 **Free** 方案
5. 點擊 **Create Web Service**

### 2.3 取得後端網址

部署完成後，你會獲得網址，例如：
```
https://retirement-planner-api.onrender.com
```

**重要：** 複製這個網址，等等要用！

---

## 🌐 步驟 3：部署前端到 Vercel

### 3.1 註冊 Vercel

1. 前往：https://vercel.com
2. 使用 GitHub 帳號註冊

### 3.2 更新前端設定

先修改前端的預設後端 URL：

編輯 `retire-planner/index.html`，找到這一行：
```html
<input id="backendUrl" type="text" value="http://localhost:5178" />
```

改為：
```html
<input id="backendUrl" type="text" value="https://retirement-planner-api.onrender.com" />
```

提交變更：
```powershell
git add retire-planner/index.html
git commit -m "Update backend URL for production"
git push
```

### 3.3 部署到 Vercel

1. 在 Vercel 點擊 **Add New...** → **Project**
2. Import 你的 `retirement-planner` repository
3. 設定如下：

   ```
   Framework Preset: Other
   Root Directory: retire-planner
   Build Command: (留空)
   Output Directory: (留空)
   ```

4. 點擊 **Deploy**

### 3.4 取得前端網址

部署完成後，你會獲得網址，例如：
```
https://retirement-planner.vercel.app
```

🎉 **恭喜！你的網站已經上線了！**

---

## 🔍 步驟 4：讓 Google 搜尋到你的網站

### 4.1 建立 SEO 優化檔案

我會幫你建立以下檔案以優化 SEO：
- `robots.txt` - 告訴搜尋引擎可以爬取
- `sitemap.xml` - 網站地圖
- 更新 `index.html` 的 meta 標籤

### 4.2 提交到 Google Search Console

1. 前往：https://search.google.com/search-console
2. 新增資源，輸入你的 Vercel 網址
3. 驗證網站擁有權（Vercel 會自動處理）
4. 提交 sitemap：
   ```
   https://你的網站.vercel.app/sitemap.xml
   ```

### 4.3 建立網站介紹頁面

建議新增一個 Landing Page，包含：
- 標題：退休計畫試算器 | 資產配置計算工具
- 說明：免費的退休理財試算工具
- 關鍵字：退休計畫、資產配置、FIRE、財務自由

---

## 📊 步驟 5：監控與維護

### 5.1 Vercel Dashboard
- 查看訪客流量
- 監控部署狀態
- 查看錯誤日誌

### 5.2 Render Dashboard
- 監控後端健康狀態
- 查看 API 請求日誌
- 免費方案會在 15 分鐘無活動後休眠（第一次存取需 1 分鐘喚醒）

### 5.3 Google Analytics（可選）
- 追蹤訪客數據
- 了解使用者行為
- 優化使用體驗

---

## 🎨 步驟 6：自訂網域（可選）

如果你想要自己的網域名稱（如：www.my-retire-planner.com）：

### 6.1 購買網域
- Namecheap：約 $10/年
- GoDaddy：約 $12/年
- Cloudflare：約 $9/年

### 6.2 設定 DNS
在 Vercel 設定中：
1. 點擊 **Domains**
2. 新增你的網域
3. 依照指示設定 DNS 記錄

---

## ✅ 檢查清單

部署完成後，確認以下項目：

- [ ] 前端網站可正常開啟
- [ ] 後端 API 可正常回應（測試連線按鈕）
- [ ] 「依歷史近N年的CAGR自動帶入」功能正常
- [ ] 試算功能運作正常
- [ ] 圖表顯示正常
- [ ] 已提交到 Google Search Console
- [ ] robots.txt 和 sitemap.xml 可存取

---

## 📈 預期時間軸

| 階段 | 所需時間 |
|------|---------|
| GitHub 設定 | 15 分鐘 |
| Render 部署 | 10 分鐘 |
| Vercel 部署 | 5 分鐘 |
| SEO 優化 | 10 分鐘 |
| Google 收錄 | 1-7 天 |

---

## 💡 進階優化建議

### 效能優化
- 啟用 Vercel Edge Network（CDN）
- 壓縮圖片與資源
- 使用 Service Worker 快取

### SEO 優化
- 建立 Blog 分享理財知識
- 新增社群媒體分享按鈕
- 建立反向連結（在其他網站提到你的工具）

### 功能擴充
- Google Analytics 追蹤
- 使用者回饋表單
- 多語言支援（英文版）

---

## 🆘 常見問題

### Q: 免費方案有流量限制嗎？
A: 
- Vercel：每月 100GB 流量（足夠數千次訪問）
- Render：免費方案無流量限制，但會休眠

### Q: 後端休眠怎麼辦？
A: 可以設定定時 ping（每 10 分鐘喚醒一次）：
- 使用 UptimeRobot 或 Cron-job.org
- 免費且自動

### Q: 如何更新網站？
A: 
```powershell
# 修改檔案後
git add .
git commit -m "更新說明"
git push
```
Vercel 和 Render 會自動重新部署！

### Q: 多久能在 Google 搜尋到？
A: 通常 1-7 天，可透過以下方式加速：
- 在社群媒體分享
- 在相關論壇提到
- 建立反向連結

---

## 🎯 下一步行動

我會幫你：
1. ✅ 建立 SEO 優化檔案
2. ✅ 更新 index.html 的 meta 標籤
3. ✅ 建立部署所需的設定檔
4. ✅ 提供完整的部署指令清單

準備好了嗎？讓我們開始部署！🚀
